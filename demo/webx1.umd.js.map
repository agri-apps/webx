{"version":3,"file":"webx1.umd.js","sources":["../src/utils/rules.js","../src/index.js"],"sourcesContent":["const rules = {\n    isString: (o) => {\n      return o !== null && typeof o === \"string\";\n    },\n    isEmptyObject: (o) => {\n      var name;\n      for (name in o) {\n        if (o.hasOwnProperty(name)) return false;\n      }\n      return true;\n    },\n    isFunc: (o) => {\n      return typeof o === \"function\";\n    },\n    isAsyncFunc: (fn) => {\n      return rules.isFunc(fn) && fn.constructor.name === \"AsyncFunction\";\n    },\n    isNode: (o) => {\n      return typeof Node === \"object\"\n        ? o instanceof Node\n        : o &&\n            typeof o === \"object\" &&\n            typeof o.nodeType === \"number\" &&\n            typeof o.nodeName === \"string\";\n    },\n    isElement: (o) => {\n      return typeof HTMLElement === \"object\"\n        ? o instanceof HTMLElement //DOM2\n        : o &&\n            typeof o === \"object\" &&\n            o !== null &&\n            o.nodeType === 1 &&\n            typeof o.nodeName === \"string\";\n    },\n  };\n\n  export default rules;","import rules from \"./utils/rules\";\n\nconst defaultOptions = {\n  global: \"$\",\n  appName: \"App\",\n  metaTitlePrepend: \"\",\n  routes: {},\n  notFoundRouteName: \"notfound\",\n  notFoundUrl: \"/notfound\",\n};\n\nexport default async (options) => {\n  let opts = Object.assign({}, defaultOptions, options);\n\n  let cache = {\n    routes: {\n      \"/\": () => ({\n        view: `<div>Webx Rocks!</div>`,\n      }),\n      notfound: () => ({\n        view: `<div>404 Not Found!</div>`,\n      }),\n      error: () => ({\n        view: \"<div>An error has occurred!</div>\",\n      }),\n    },\n  };\n\n  // routes\n  if (!rules.isEmptyObject(opts.routes)) {\n    // prevalidate routes\n    let routeErrors = {};\n    for (var x in opts.routes) {\n      if (opts.routes.hasOwnProperty(x)) {\n        if (!opts.routes[x].view) {\n          routeErrors[x] = [`A view property is required for route \"${x}\"`];\n        }\n      }\n    }\n    if (Object.keys(routeErrors).length) {\n      throw new Error(\"Invalid route configuration\", routeErrors);\n    }\n    cache.routes = opts.routes;\n  }\n\n  const getProxy = (app) => {\n    return {\n      setState: app.setState,\n      getState: app.getState,\n      dispatch: app.dispatch,\n      refresh: app.refresh,\n    };\n  };\n\n  const app = {\n    el: document.body,\n    _currentPath: null,\n    _currentRoute: null,\n    _state: {},\n    _listeners: [],\n    _plugins: {},\n    routes: { ...cache.routes },\n    ok: true,\n    getState: (...args) => {\n      if (args.length) {\n        return app._state[args[0]];\n      }\n      return { ...app._state };\n    },\n    setState: (key, value) => {\n      let oldState = Object.freeze(JSON.parse(JSON.stringify(app._state)));\n      app._state[key] = value;\n      let newState = Object.freeze(JSON.parse(JSON.stringify(app._state)));\n      // change listeners\n      app._listeners.forEach((listener) => {\n        listener(\"stateChange\", newState, oldState, key, value);\n      });\n    },\n    replaceState: (newState) => {\n      let oldState = Object.freeze(JSON.parse(JSON.stringify(app._state)));\n      app._state = newState;\n      app._listeners.forEach((listener) => {\n        listener(\"stateChange\", newState, oldState, \"*\", newState);\n      });\n    },\n    dispatch: (type, ...args) => {\n      app._listeners.forEach((listener) => {\n        listener.apply(null, [type, ...args]);\n      });\n    },\n    listen: (handler) => {\n      if (rules.isFunc(handler)) {\n        app._listeners.push(handler);\n      } else {\n        console.error(\"Listen handler must be a function\", handler);\n      }\n    },\n    refresh: () => {\n      app.navigate(app._currentPath, true, true);\n    },\n    renderView: async (view, state, meta) => {\n      if (!rules.isFunc(view)) {\n        throw new Error(\"renderView requires a function.\");\n      }\n\n      if (app.el.renderView && rules.isFunc(app.el.renderView)) {\n        if (rules.isAsyncFunc(app.el.renderView)) {\n          try {\n            await app.el.renderView(view, state, meta);\n          } catch (err) {\n            console.error(\"render async view error\", err);\n          }\n        } else {\n          app.el.renderView(view, state, meta);\n        }\n\n        return;\n      }\n\n      if (rules.isAsyncFunc(view)) {\n        try {\n          app.el.innerHTML = await view(state);\n        } catch (err) {\n          console.error(\"Render view errror\", err);\n        }\n      } else {\n        app.el.innerHTML = view(state);\n      }\n\n      if (meta) {\n        document.title = `${opts.metaTitlePrepend}${meta.title}`;\n      }\n    },\n    initRoute: async (route, state) => {\n      const proxy = getProxy(app);\n\n      if (rules.isFunc(route.init)) {\n        if (rules.isAsyncFunc(route.init)) {\n          await route.init(state, proxy, app.el);\n        } else {\n          route.init(state, proxy, app.el);\n        }\n      }\n    },\n    unmountRoute: (route) => {\n      if (route && rules.isFunc(route.unmount)) {\n        route.unmount(getProxy(app));\n      }\n    },\n    routeInit: async (route, state) => {\n      if (opts.routeInit && rules.isFunc(opts.routeInit)) {\n        if (rules.isAsyncFunc(opts.routeInit)) {\n          await opts.routeInit(route, state);\n        } else {\n          opts.routeInit(route, state);\n        }\n      }\n    },\n    navigate: async (pathName, force, refreshOnly) => {\n      // don't fire same route unless forced\n      if (!force && app._currentPath && app._currentPath === pathName) {\n        return false;\n      }\n      const prevPath = app._currentPath;\n      app._currentPath = pathName;\n      let query = {};\n      let params = {};\n\n      const setRoute = async (path, xtra = {}) => {\n        let route = routes[path];\n\n        if (!route) {\n          route = routes[\"/notfound\"] || {\n            view: () => `<div class=\"page\">404 Not Found</div>`,\n          };\n        }\n\n        app._currentRoute = path;\n\n        query = location.search\n          .slice(1)\n          .split(\"&\")\n          .reduce((prev, curr) => {\n            let t = curr.split(\"=\");\n            prev[t[0]] = decodeURIComponent(t[1] || \"\");\n            return prev;\n          }, {});\n        let state = { ...app.getState(), ...xtra, query, path };\n\n        // Pre-render hook\n        if (!refreshOnly) {\n          try {\n            await app.routeInit(route, state);\n          } catch (err) {\n            console.error(\"Pre-render failed:\", err);\n          }\n        }\n\n        // Render view\n        try {\n          await app.renderView(route.view, state, route.meta);\n        } catch (err) {\n          console.error(\"Render view failed\", err);\n        }\n\n        // Initialize route\n        try {\n          await app.initRoute(route, state);\n        } catch (err) {\n          console.error(\n            `Init route for \"${route.name ? route.name : path}\" failed`,\n            err\n          );\n        }\n\n        const { params = {} } = xtra;\n\n        if (!refreshOnly) {\n          app._listeners.forEach((listener) => {\n            listener(\"pageChange\", {\n              from: prevPath,\n              to: app._currentRoute,\n              params,\n              query,\n            });\n          });\n        }\n      };\n\n      const { routes } = app;\n\n      // Unmount current route, if any\n      if (!refreshOnly) {\n        if (app._currentRoute) {\n          app.unmountRoute(app.routes[app._currentRoute]);\n        }\n      }\n\n      // exact match\n      if (routes[pathName]) {\n        app._currentRoute = pathName;\n        setRoute(pathName);\n        return { path: pathName, route: pathName, query, params };\n      }\n\n      // param route w/fuzzy match logic\n      let tokens = pathName.split(\"/\").slice(1);\n      let found = Object.keys(routes).filter((x) => {\n        return (\n          x.indexOf(`/${tokens[0]}`) !== -1 &&\n          x.split(\"/\").slice(1).length === tokens.length\n        );\n      })[0];\n\n      if (found) {\n        found\n          .split(\"/\")\n          .slice(2)\n          .forEach((n, x) => {\n            params[n.slice(1)] = tokens[x + 1];\n          });\n        setRoute(found, { params });\n        return { path: pathName, route: found, query, params };\n      }\n      // Not found\n      app._currentRoute = opts.notFoundRouteName;\n      setRoute(opts.notFoundUrl);\n      return { path: pathName, route: undefined, query, params };\n    },\n    boot: async () => {\n      // Runs on startup. Intended to be monkey patched in plugins.\n    },\n  };\n\n  const proxy = {\n    use: (plugin, options = {}) => {\n      if (!plugin.name) {\n        throw new Error(\"A plugin must have a name property.\");\n      }\n      if (!plugin.install || !rules.isFunc(plugin.install)) {\n        throw new Error(\"A plugin must define an install method.\");\n      }\n      if (app._plugins[plugin.name]) {\n        throw new Error(\n          `A plugin with the name: \"${plugin.name} is already registered.\"`\n        );\n      }\n      app._plugins[plugin.name] = plugin;\n      try {\n        plugin.install(app, options);\n      } catch (err) {\n        console.error(`Plugin \"${plugin.name}\" failed to install.`, err);\n        delete app._plugins[plugin.name];\n      }\n\n      return proxy;\n    },\n    mount: async (el) => {\n      try {\n        if (rules.isString(el)) {\n          app.el = document.querySelector(el);\n          if (!app.el) {\n            throw new Error(\n              `Invalid mount target: ${el}. Missing from the DOM.`\n            );\n          }\n        } else {\n          if (!rules.isNode(el) || !rules.isElement(el)) {\n            throw new Error(\"Invalid DOM object for mount.\");\n          }\n          app.el = el;\n        }\n\n        if (rules.isFunc(opts.init)) {\n          // try to just invoke function;\n          app._state = rules.isAsyncFunc(opts.init)\n            ? await opts.init()\n            : opts.init();\n        } else {\n          app._state = opts.init || {};\n        }\n\n        if (opts.debug) {\n          console.log(\"Initial app state\", app._state);\n        }\n\n        window.onpopstate = async () => {\n          await app.navigate(window.location.pathname);\n        };\n\n        window[opts.global] = window[opts.global] || {};\n\n        window[opts.global].navigate = async (pathName) => {\n          window.history.pushState(\n            {},\n            pathName,\n            window.location.origin + pathName\n          );\n          await app.navigate(pathName);\n        };\n\n        window[opts.global].dispatch = app.dispatch.bind(app);\n\n        await app.boot();\n\n        await app.navigate(window.location.pathname);\n\n        return app;\n      } catch (e) {\n        return { ok: false, error: e };\n      }\n    },\n  };\n\n  return proxy;\n};\n"],"names":["rules","isString","o","isEmptyObject","name","hasOwnProperty","isFunc","isAsyncFunc","fn","constructor","isNode","Node","nodeType","nodeName","isElement","HTMLElement","_catch","body","recover","result","e","then","defaultOptions","global","appName","metaTitlePrepend","routes","notFoundRouteName","notFoundUrl","options","opts","Object","assign","cache","/","view","notfound","error","routeErrors","x","keys","length","Error","getProxy","app","setState","getState","dispatch","refresh","el","document","_currentPath","_currentRoute","_state","_listeners","_plugins","ok","args","key","value","oldState","freeze","JSON","parse","stringify","newState","forEach","listener","replaceState","type","apply","listen","handler","push","console","navigate","renderView","state","meta","title","innerHTML","err","initRoute","route","proxy","init","unmountRoute","unmount","routeInit","pathName","force","refreshOnly","prevPath","query","params","setRoute","path","xtra","from","to","location","search","slice","split","reduce","prev","curr","t","decodeURIComponent","tokens","found","filter","indexOf","n","undefined","boot","use","plugin","install","mount","debug","log","window","onpopstate","pathname","history","pushState","origin","bind","querySelector"],"mappings":"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"}